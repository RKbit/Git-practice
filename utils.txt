utility functions new wale version 3